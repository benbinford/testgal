<module>

  <!--
  A module for running tests in a gallery.  Note: do not inherit from
  this module in any module in which you want to run a GWTTestCase in the normal
  way using JUnit.  This is because we override how deferred binding is done for
  all subclasses of junit.framework.Test and this includes GWTTestCase.  Instead
  you should create a separate module for running tests in a gallery.
  -->

  <inherits name='com.google.gwt.user.User'/>
  <inherits name="com.google.gwt.junit.JUnit"/>
  <inherits name="com.google.gwt.user.theme.standard.Standard"/>

  <inherits name="com.google.gwt.testgal.api.Api"/>

  <entry-point class='com.google.gwt.testgal.api.client.EmptyEntryPoint'/>

  <define-property name="testgal.rebind" values="testcase,none" />

  <!-- Rebind is on by default because we usually are inherited from a test gallery -->
  <set-property name="testgal.rebind" value="testcase"/>

  <generate-with class="com.google.gwt.testgal.rebind.TestSourceGenerator">
    <all>
        <when-type-assignable class="junit.framework.TestCase"/>
        <when-property-is name="testgal.rebind" value="testcase"/>
    </all>
  </generate-with>

</module>